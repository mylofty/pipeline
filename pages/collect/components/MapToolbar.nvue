<template>
	<view class="right-toolbar">
		<!-- å½±åƒ/çŸ¢é‡åˆ‡æ¢ -->
		<view class="tool-section">
			<view 
				class="tool-btn map-type-btn" 
				:class="{ active: mapType === 'satellite' }"
				@click="onToggleMapType"
			>
				<view class="tool-icon">
					<text>ğŸ›°ï¸</text>
				</view>
				<view class="tool-text">
					<text>{{ mapType === 'satellite' ? 'å½±åƒ' : 'çŸ¢é‡' }}</text>
				</view>
			</view>
		</view>

		<!-- åˆ›å»ºå·¥å…·é›† -->
		<view class="tool-section">
			<view class="section-title">
				<text>åˆ›å»ºå·¥å…·</text>
			</view>
			<view 
				v-for="tool in createTools"
				:key="tool.value"
				class="tool-btn" 
				:class="{ active: currentTool === tool.value }"
				@click="onSelectTool(tool.value)"
			>
				<view class="tool-icon">
					<text>{{ tool.icon }}</text>
				</view>
				<view class="tool-text">
					<text>{{ tool.label }}</text>
				</view>
			</view>
		</view>

		<!-- ç¼–è¾‘å·¥å…·é›† -->
		<view class="tool-section">
			<view class="section-title">
				<text>ç¼–è¾‘å·¥å…·</text>
			</view>
			<view 
				v-for="tool in editTools"
				:key="tool.value"
				class="tool-btn" 
				:class="{ active: currentTool === tool.value }"
				@click="onSelectTool(tool.value)"
			>
				<view class="tool-icon">
					<text>{{ tool.icon }}</text>
				</view>
				<view class="tool-text">
					<text>{{ tool.label }}</text>
				</view>
			</view>
		</view>
	</view>
</template>

<script>
export default {
	name: 'MapToolbar',
	props: {
		currentTool: {
			type: String,
			default: ''
		},
		mapType: {
			type: String,
			default: 'vector'
		}
	},
	data() {
		return {
			createTools: [
				{ value: 'point', label: 'ç®¡ç‚¹', icon: 'ğŸ“' },
				{ value: 'line', label: 'ç®¡çº¿', icon: 'ğŸ“' },
				{ value: 'virtual', label: 'è™šæ‹Ÿçº¿', icon: 'âš¡' },
				{ value: 'shared', label: 'å…±ç®¡', icon: 'ğŸ”—' },
				{ value: 'insert', label: 'æ’å…¥', icon: 'â•' },
				{ value: 'collect', label: 'æ”¶ç‚¹', icon: 'âœ…' }
			],
			editTools: [
				{ value: 'edit', label: 'ç¼–è¾‘', icon: 'âœï¸' },
				{ value: 'measure', label: 'æµ‹é‡', icon: 'ğŸ“' },
				{ value: 'flow', label: 'æµå‘', icon: 'ğŸ”„' },
				{ value: 'move', label: 'ç§»åŠ¨', icon: 'ğŸ”„' },
				{ value: 'delete', label: 'åˆ é™¤', icon: 'ğŸ—‘ï¸' }
			]
		}
	},
	methods: {
		onToggleMapType() {
			this.$emit('toggle-map-type');
		},
		onSelectTool(tool) {
			this.$emit('select-tool', tool);
		}
	}
}
</script>

<style scoped>
@import './map-toolbar-styles.css';
</style>